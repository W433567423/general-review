# JavaScript知识点

## 闭包

### 作用域

变量的可用范围（scope）

JS作用域有两种：全局作用域、函数作用域

> 只有函数{}才是作用域(注意对象的{}不能形成作用域)

局部变量只有两种：函数内var定义、形参

全局作用域是一个名为window的对象，全局变量和全局函数均是该对象的成员

> 开发环境禁用全局变量（有雷，易被污染）

函数作用域即用即创建，用完即销毁，又名AO(Actived Object)

![image-20231107125416953](C:\Users\t4335\AppData\Roaming\Typora\typora-user-images\image-20231107125416953.png)

### 作用域链

定义函数时确定作用域链

> 给未声明的变量赋值，会自动创建全局变量（严格模式报错）

### 函数执行过程

![image-20231107132118377](C:\Users\t4335\AppData\Roaming\Typora\typora-user-images\image-20231107132118377.png)

> 作用域的本质是一个对象，作用域链的本质是一个对象数组

### 闭包

即**可以重用变量又能不被污染**的编程方法

食用方法：

1. 用外层函数包裹
2. 在外层函数内部返回内层函数对象
3. 调用外层函数

闭包形成：

外层函数调用后，外层函数的作用域对象被内层函数引用，无法释放，形成闭包对象

闭包缺点：

内存泄漏（但是不要因噎废食，即使释放闭包就行）

## 面向对象

三大特性：封装、继承、多态、（抽象）

### 封装的方法

- new Object()
- 通过{}的形式封装属性/方法，用.访问
- 用.强行添加属性/方法（js数据底层是关联数组）
- 工厂函数
- 用new调用构造函数（用于创建相同结构的对象）
- 原型对象方式
- 

> new关键字进行构造时进行四件事
>
> 1. 创建一个新对象
> 2. 新对象继承构造函数的原型对象 
> 3. 调用构造函数（进行this指向，并添加属性/方法）
> 4. 返回新对象地址

### 继承

在构造函数的.prop

> 箭头函数只仅仅不绑定this（箭头函数底层相当于.bind()）

### call、bind、aplly

- call() 立即调用，临时改变this，并且可以传参（实参）
- bind() **永久**绑定this，并且可以传参（实参）
- apply() 立即调用，临时改变this，并且可以传参（数组被拆散）









